<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>가봤던 캠핑장</title>

  <!-- Leaflet CSS/JS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <style>
  html, body {
    height: 100%;
    margin: 0;
    background: #f7f7f7;
    font-family: "Pretendard", sans-serif;
  }

  h1 {
    text-align: center;
    padding: 12px 0;
    margin: 0;
  }

  #map {
    height: calc(100vh - 60px); /* 상단 제목 높이만큼 제외 */
    width: 100%;
  }

       /* 원 상단 라벨 스타일 */
    .circle-label {
      background: transparent;  /* 배경 투명 */
      padding: 3px 8px;
      border-radius: 0;
      font-size: 13px;
      font-weight: bold;
      color: red;               /* 글씨 빨간색 */
      border: none;
      text-align: center;
    } 
</style>
</head>
<body>
  <h1>주요 캠핑장 위치</h1>
  <div id="map"></div>

  <script>
    const places = [
  { name: "고래불", "lat": 36.5709, "lng": 129.4200 },
  { name: "나정고운모래", "lat": 35.7835, "lng": 129.4913 },
  { name: "의성빙계", "lat": 36.2282, "lng": 128.7498 },
  { name: "가야산오토", "lat": 35.8564, "lng": 128.1036 },
  { name: "거창국민여가", "lat": 35.7615, "lng": 127.7243 },
  { name: "구미캠핑장", "lat": 36.1336, "lng": 128.3711 },
  { name: "대가야체험", "lat": 35.7127, "lng": 128.2657 },
  { name: "삼강나루", "lat": 36.5644, "lng": 128.3013 },
  { name: "보현산별빛", "lat": 36.1405, "lng": 128.9960 },
  { name: "무창포오토", "lat": 36.2413, "lng": 126.5357 },
  { name: "에코그린", "lat": 33.4445, "lng": 126.3339 },
  { name: "붉은오름", "lat": 33.4032, "lng": 126.6679 },
  { name: "도토리", "lat": 35.2765, "lng": 128.0390 },
  { name: "양지생태마을", "lat": 35.6953, "lng": 127.8606 },
  { name: "몽산포", "lat": 36.6697, "lng": 126.2872 },
  { name: "왕산골", "lat": 36.1910, "lng": 128.3215 },
  { name: "태백눈꽃", "lat": 37.1321, "lng": 128.9617 },
  { name: "송하루", "lat": 36.2806, "lng": 128.2654 },
  { name: "파크킹", "lat": 36.1799, "lng": 128.1266 },
  { name: "소리길", "lat": 35.7753, "lng": 128.1272 },
  { name: "라온", "lat": 35.6257, "lng": 127.7738 },
  { name: "숲에안기다", "lat": 35.7722, "lng": 128.1779 },
  { name: "돌고래", "lat": 36.4728, "lng": 127.9582 },
  { name: "누리별", "lat": 35.9926, "lng": 127.9334 },
  { name: "펀펀", "lat": 36.4713, "lng": 127.9643 }, 
  { name: "달서별빛", "lat": 35.8240, "lng": 128.5571 },
  { name: "문복산", "lat": 35.6611, "lng": 129.0524 },
  { name: "위천수변", "lat": 36.1765, "lng": 128.5856 },
  { name: "한티별빛", "lat": 36.0372, "lng": 128.6161 },
  { name: "용추그린", "lat": 35.6460, "lng": 127.8060 },
  { name: "꿈꾸는캠핑", "lat": 35.6256, "lng": 128.0423 },
  { name: "썬빌리지", "lat": 36.0620, "lng": 129.5741 },
  { name: "수달", "lat": 36.2448, "lng": 128.9643 },
  { name: "상주보 휴", "lat": 36.4554, "lng": 128.2519 },
  { name: "별고을", "lat": 35.9277, "lng": 128.1051 },
  { name: "정이품송", "lat": 36.4721, "lng": 127.7920 },
  { name: "그린스톤", "lat": 36.6832, "lng": 127.9774 },
  { name: "병술만", "lat": 36.4690, "lng": 126.3408 },
  { name: "우산캠핑", "lat": 36.4727, "lng": 128.0659 },
  { name: "수피아", "lat": 36.0869, "lng": 128.4847 },
  { name: "행화촌", "lat": 36.0008, "lng": 128.4839 },
  { name: "대가야캠프", "lat": 35.7959, "lng": 128.3160 },
  { name: "히든벨리", "lat": 36.6492, "lng": 127.9908 },
  { name: "전원일기", "lat": 35.6854, "lng": 129.0501 },
  { name: "청춘별곡", "lat": 35.2097, "lng": 128.1530 },
  { name: "상주보", "lat": 36.4480, "lng": 128.2585 }
    ];

    // 지도 생성(구미 시청)
    const map = L.map('map').setView([36.1239, 128.3440], 7);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: '© OpenStreetMap contributors'
    }).addTo(map);

    // 마커 추가 및 이름 표시
    places.forEach(p => {
      L.marker([p.lat, p.lng])
        .addTo(map)
        .bindPopup(`<b>${p.name}</b>`)
        .bindTooltip(p.name, { permanent: true, direction: "top", offset: [0, -10] });
    });
        // 중심 좌표
    const center = [36.1239, 128.3440];

    // 공통 원 옵션
    const circleOptions = { color: 'orange', weight: 2, dashArray: '6 6', fill: false };
    const radii = [50000, 100000, 150000]; // 50/100/150 km
    const circles = [];

    // 지구 반지름
    const R = 6371e3;
    const rad2deg = 180 / Math.PI;

    // 각도 기반 이동 함수 (distance: m, angle: deg)
    function moveAtAngle(lat, lng, distanceMeters, angleDeg) {
      const angleRad = angleDeg * Math.PI / 180;
      const deltaLat = (distanceMeters * Math.cos(angleRad)) / R;
      const deltaLng = (distanceMeters * Math.sin(angleRad)) / (R * Math.cos(lat * Math.PI / 180));
      return [lat + deltaLat * rad2deg, lng + deltaLng * rad2deg];
    }

    // 원과 라벨 생성 (2시 방향 = 30°)
    radii.forEach(r => {
      // 원 생성
      const circle = L.circle(center, { ...circleOptions, radius: r })
        .addTo(map)
        .bindPopup(`반경 ${r/1000} km`);
      circles.push(circle);

      // 라벨 생성 (2시 방향)
      const labelPos = moveAtAngle(center[0], center[1], r, 30);
      L.marker(labelPos, {
        icon: L.divIcon({
          className: 'circle-label',
          html: `<b>${r/1000} km</b>`,
          iconSize: [60, 20],
          iconAnchor: [30, 10]
        })
      }).addTo(map);
    });

    // 원 그룹화해서 토글 가능
    const radiiLayer = L.layerGroup(circles).addTo(map);
    L.control.layers(null, { '반경 50/100/150km': radiiLayer }, { collapsed: false }).addTo(map);

    // (선택) 150km 원이 화면에 모두 보이도록 지도 맞춤
    // map.fitBounds(circles[2].getBounds());
  </script>
</body>
</html>





